<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>下拉框二级联动效果</title>
		<style>
			a[title="站长统计"]{
				display:none;
			}
		</style>
	</head>
	<body>
		<div class="content">
			<h3>下拉框联动效果</h3>
			<p>省份：
				<select name="provinces" id="provinces">
					
				</select>
			</p>
			<p>
				市：
				<select name="citys" id="citys">
					
				</select>
			</p>
		</div>
		<script>
			window.onload = function(){
				var linkDatas = {
	        provinces:[
	            {
	                "code":"0",
	                "name":"请选择"
	            },
	            {
	                "code":"1",
	                "name":"北京"
	            },
	            {
	                "code":"2",
	                "name":"天津"
	            },
	            {
	                "code":"3",
	                "name":"河北"
	            },
	            {
	                "code":"4",
	                "name":"湖北"
	            },
	            {
	                "code":"5",
	                "name":"广东"
	            },
	            {
	                "code":"6",
	                "name":"其他"
	            }
	        ],
	        citys:{
	            0:[
	                "请选择"
	            ],
	            1:[
	                "朝阳区",
	                "海淀区",
	                "东城区",
	                "西城区",
	                "房山区",
	                "其他"
	            ],
	            2:[
	                "天津"
	            ],
	            3:[
	                "沧州",
	                "石家庄",
	                "秦皇岛",
	                "其他"
	            ],
	            4:[
	                "武汉市",
	                "宜昌市",
	                "襄樊市",
	                "其他"
	            ],
	            5:[
	                "广州市",
	                "深圳市",
	                "汕头市",
	                "佛山市",
	                "珠海市",
	                "其他"
	            ],
	            6:[
	                "其他"
	            ]
	        }
	    	};
	    	function addOptions(target,options){
	    		var optionEle = null,
	    				target = target,
	    				option = options,
	    				optionLen = options.length;
	    		for(var i = 0;i < optionLen;i++){
	    			optionEle = document.createElement('option');
	    			optionEle.value = option[i].value;
	    			optionEle.text = option[i].text;
	    			target.options.add(optionEle);
	    		}
	    	}
	    	function provincesCitysLink(pro,c){
	    		var LD 				= linkDatas,
	    				provinces = LD.provinces,
	    				city 			= LD.citys,
	    				initCity	= city[0],
	    				proBox		= [];

	    		/*添加省份*/
	    		for(var i = 0;i < provinces.length;i++){
	    			proBox.push({
	    				"text" : provinces[i].name,
	    				"value": provinces[i].code
	    			})
	    		}		
	    		addOptions(pro,proBox);

	    		/*初始化城市*/
	    		addOptions(c,[{
	    			"text" : initCity,
	    			"value": initCity
	    		}]);

	    		/*添加联动事件*/
	    		pro.onchange = function(){
	    			console.log(this);
	    			var ct = city[this.value],
	    					ctLen = ct.length,
	    					ctBox = [];

	    			c.innerHTML = "";	
	    			/*添加城市*/	
	    			for(var j = 0;j < ctLen;j++){
	    				ctBox.push({
	    					"text" : ct[j],
	    					"value": ct[j]
	    				});
	    			}
	    			addOptions(c,ctBox);
	    		}
	    	}
	    	var provinces = document.getElementById('provinces'),
	    			citys 		= document.getElementById('citys');
		    provincesCitysLink(provinces,citys);    
			}
		</script>
		<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1257812223'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1257812223%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
	</body>
</html>
